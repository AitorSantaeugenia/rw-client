{"ast":null,"code":"var _jsxFileName = \"/home/aitor/Desktop/ironhack/Web Dev/projects/reto_web/client/src/pages/ProjectDetailsPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport AddTask from \"../components/AddTask\";\nimport TaskCard from \"../components/TaskCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL;\n\nfunction ProjectDetailsPage(props) {\n  _s();\n\n  const [project, setProject] = useState(null);\n  const projectId = props.match.params.id;\n\n  const getProject = () => {\n    // Get the token from the localStorage\n    const storedToken = localStorage.getItem('authToken'); // Send the token through the request \"Authorization\" Headers\n\n    axios.get(`${API_URL}/projects/${projectId}`, {\n      headers: {\n        Authorization: `Bearer ${storedToken}`\n      }\n    }).then(response => {\n      const oneProject = response.data;\n      console.log(oneProject);\n      setProject(oneProject);\n    }).catch(error => console.log(error));\n  };\n\n  useEffect(() => {\n    getProject();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ProjectDetails\",\n    children: [project && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: project.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: project.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(AddTask, {\n      refreshProject: getProject,\n      projectId: projectId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), project && project.tasks.map(task => {\n      console.log(task);\n      return /*#__PURE__*/_jsxDEV(TaskCard, { ...task\n      }, task._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/projects\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Back to projects\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: `/projects/edit/${projectId}`,\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Edit Project\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProjectDetailsPage, \"Ai1tc+MvnmxeHn1XuWqMKJ+ITi0=\");\n\n_c = ProjectDetailsPage;\nexport default ProjectDetailsPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProjectDetailsPage\");","map":{"version":3,"sources":["/home/aitor/Desktop/ironhack/Web Dev/projects/reto_web/client/src/pages/ProjectDetailsPage.js"],"names":["useState","useEffect","axios","Link","AddTask","TaskCard","API_URL","process","env","REACT_APP_API_URL","ProjectDetailsPage","props","project","setProject","projectId","match","params","id","getProject","storedToken","localStorage","getItem","get","headers","Authorization","then","response","oneProject","data","console","log","catch","error","title","description","tasks","map","task","_id"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AAEA,OAAOC,QAAP,MAAqB,wBAArB;;;AAEA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBAA5B;;AAGA,SAASC,kBAAT,CAA6BC,KAA7B,EAAoC;AAAA;;AAClC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAMc,SAAS,GAAGH,KAAK,CAACI,KAAN,CAAYC,MAAZ,CAAmBC,EAArC;;AAGA,QAAMC,UAAU,GAAG,MAAM;AACvB;AACA,UAAMC,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAApB,CAFuB,CAIvB;;AACAnB,IAAAA,KAAK,CACFoB,GADH,CAEK,GAAEhB,OAAQ,aAAYQ,SAAU,EAFrC,EAGI;AAAES,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,EAAG,UAASL,WAAY;AAAvC;AAAX,KAHJ,EAKGM,IALH,CAKSC,QAAD,IAAc;AAClB,YAAMC,UAAU,GAAGD,QAAQ,CAACE,IAA5B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,UAAZ;AACAd,MAAAA,UAAU,CAACc,UAAD,CAAV;AACD,KATH,EAUGI,KAVH,CAUUC,KAAD,IAAWH,OAAO,CAACC,GAAR,CAAYE,KAAZ,CAVpB;AAWD,GAhBD;;AAmBA/B,EAAAA,SAAS,CAAC,MAAK;AACbiB,IAAAA,UAAU;AACX,GAFQ,EAEN,EAFM,CAAT;AAKA,sBACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA,eACGN,OAAO,iBACN;AAAA,8BACE;AAAA,kBAAKA,OAAO,CAACqB;AAAb;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA,kBAAIrB,OAAO,CAACsB;AAAZ;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA,oBAFJ,eASE,QAAC,OAAD;AAAS,MAAA,cAAc,EAAEhB,UAAzB;AAAqC,MAAA,SAAS,EAAEJ;AAAhD;AAAA;AAAA;AAAA;AAAA,YATF,EAWIF,OAAO,IAAIA,OAAO,CAACuB,KAAR,CAAcC,GAAd,CAAmBC,IAAD,IAAU;AACvCR,MAAAA,OAAO,CAACC,GAAR,CAAYO,IAAZ;AACA,0BAEE,QAAC,QAAD,OAA6BA;AAA7B,SAAeA,IAAI,CAACC,GAApB;AAAA;AAAA;AAAA;AAAA,cAFF;AAKD,KAPY,CAXf,eAoBE,QAAC,IAAD;AAAM,MAAA,EAAE,EAAC,WAAT;AAAA,6BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YApBF,eAwBE,QAAC,IAAD;AAAM,MAAA,EAAE,EAAG,kBAAiBxB,SAAU,EAAtC;AAAA,6BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAxBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA+BD;;GA5DQJ,kB;;KAAAA,kB;AA8DT,eAAeA,kBAAf","sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport AddTask from \"../components/AddTask\";\n\nimport TaskCard from \"../components/TaskCard\";\n\nconst API_URL = process.env.REACT_APP_API_URL;\n\n\nfunction ProjectDetailsPage (props) {\n  const [project, setProject] = useState(null);\n  const projectId = props.match.params.id;\n  \n  \n  const getProject = () => {\n    // Get the token from the localStorage\n    const storedToken = localStorage.getItem('authToken');\n\n    // Send the token through the request \"Authorization\" Headers\n    axios\n      .get(\n        `${API_URL}/projects/${projectId}`,\n        { headers: { Authorization: `Bearer ${storedToken}` } }\n      )\n      .then((response) => {\n        const oneProject = response.data;\n        console.log(oneProject)\n        setProject(oneProject);\n      })\n      .catch((error) => console.log(error));\n  };\n  \n  \n  useEffect(()=> {\n    getProject();\n  }, [] );\n\n  \n  return (\n    <div className=\"ProjectDetails\">\n      {project && (\n        <>\n          <h1>{project.title}</h1>\n          <p>{project.description}</p>\n        </>\n      )}\n\n      \n      <AddTask refreshProject={getProject} projectId={projectId} />          \n        \n      { project && project.tasks.map((task) => {\n        console.log(task)\n        return(\n\n          <TaskCard key={task._id} {...task} />  \n        )\n    \n      })}\n\n      <Link to=\"/projects\">\n        <button>Back to projects</button>\n      </Link>\n          \n      <Link to={`/projects/edit/${projectId}`}>\n        <button>Edit Project</button>\n      </Link>\n      \n    </div>\n  );\n}\n\nexport default ProjectDetailsPage;"]},"metadata":{},"sourceType":"module"}