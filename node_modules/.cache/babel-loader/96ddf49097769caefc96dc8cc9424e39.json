{"ast":null,"code":"var _jsxFileName = \"/home/aitor/Desktop/ironhack/Web Dev/projects/reto_web/client/src/pages/SignupPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios'; //Upload service - cloudinary\n\nimport UploadService from '../services/upload.service';\nimport { Button, Spinner } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL;\n\nfunction SignupPage(props) {\n  _s();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [name, setName] = useState('');\n  const [errorMessage, setErrorMessage] = useState(undefined); //Cloudinary\n\n  const [image, setImage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleEmail = e => setEmail(e.target.value);\n\n  const handlePassword = e => setPassword(e.target.value);\n\n  const handleName = e => setName(e.target.value);\n\n  const handleSignupSubmit = e => {\n    e.preventDefault(); // Create an object representing the request body\n\n    const requestBody = {\n      email,\n      password,\n      name\n    }; // Make an axios request to the API\n    // If POST request is successful redirect to login page\n    // If the request resolves with an error, set the error message in the state\n\n    axios.post(`${API_URL}/auth/signup`, requestBody).then(response => props.history.push('/login')).catch(error => {\n      const errorDescription = error.response.data.message;\n      setErrorMessage(errorDescription);\n    });\n  };\n\n  const handleInputFile = e => {\n    setIsLoading(true);\n    const upload = new UploadService();\n    let formData = new FormData();\n    formData.append('file', e.target.files[0]);\n    upload.fileUpload(formData).then(response => {\n      // setPreviewImage(URL.createObjectURL(e.target.files[0]))\n      setIsLoading(false);\n      setImage(response.data.imageUrl);\n    }).catch(err => console.log(err)); //console.log(e.target.files[0]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"SignupPage\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Sign Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSignupSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"email\",\n          value: email,\n          onChange: handleEmail,\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          value: password,\n          onChange: handlePassword,\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          value: name,\n          onChange: handleName,\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Avatar:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          name: \"file\",\n          onChange: handleInputFile,\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"margin-topSmall\",\n            children: image ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: image,\n              alt: \"avatar\",\n              style: {\n                width: '40px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 17\n            }, this) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 7\n          }, this), isLoading ? /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            disabled: true,\n            children: [/*#__PURE__*/_jsxDEV(Spinner, {\n              as: \"span\",\n              animation: \"grow\",\n              size: \"sm\",\n              role: \"status\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 9\n            }, this), \"Loading...\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 8\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn-submit-login\",\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-success btn-signup-login\",\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 4\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Already have account?\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n        to: '/login',\n        className: \"colorBlue\",\n        children: [' ', \"Login\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 3\n  }, this);\n}\n\n_s(SignupPage, \"UT6TiUFRv6qywqqceZ4Krq72yG4=\");\n\n_c = SignupPage;\nexport default SignupPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignupPage\");","map":{"version":3,"sources":["/home/aitor/Desktop/ironhack/Web Dev/projects/reto_web/client/src/pages/SignupPage.js"],"names":["useState","Link","axios","UploadService","Button","Spinner","API_URL","process","env","REACT_APP_API_URL","SignupPage","props","email","setEmail","password","setPassword","name","setName","errorMessage","setErrorMessage","undefined","image","setImage","isLoading","setIsLoading","handleEmail","e","target","value","handlePassword","handleName","handleSignupSubmit","preventDefault","requestBody","post","then","response","history","push","catch","error","errorDescription","data","message","handleInputFile","upload","formData","FormData","append","files","fileUpload","imageUrl","err","console","log","width"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\n//Upload service - cloudinary\nimport UploadService from '../services/upload.service';\nimport { Button, Spinner } from 'react-bootstrap';\n\nconst API_URL = process.env.REACT_APP_API_URL;\n\nfunction SignupPage(props) {\n\tconst [ email, setEmail ] = useState('');\n\tconst [ password, setPassword ] = useState('');\n\tconst [ name, setName ] = useState('');\n\tconst [ errorMessage, setErrorMessage ] = useState(undefined);\n\n\t//Cloudinary\n\tconst [ image, setImage ] = useState('');\n\tconst [ isLoading, setIsLoading ] = useState(false);\n\n\tconst handleEmail = (e) => setEmail(e.target.value);\n\tconst handlePassword = (e) => setPassword(e.target.value);\n\tconst handleName = (e) => setName(e.target.value);\n\n\tconst handleSignupSubmit = (e) => {\n\t\te.preventDefault();\n\t\t// Create an object representing the request body\n\t\tconst requestBody = { email, password, name };\n\n\t\t// Make an axios request to the API\n\t\t// If POST request is successful redirect to login page\n\t\t// If the request resolves with an error, set the error message in the state\n\t\taxios\n\t\t\t.post(`${API_URL}/auth/signup`, requestBody)\n\t\t\t.then((response) => props.history.push('/login'))\n\t\t\t.catch((error) => {\n\t\t\t\tconst errorDescription = error.response.data.message;\n\t\t\t\tsetErrorMessage(errorDescription);\n\t\t\t});\n\t};\n\n\tconst handleInputFile = (e) => {\n\t\tsetIsLoading(true);\n\n\t\tconst upload = new UploadService();\n\n\t\tlet formData = new FormData();\n\t\tformData.append('file', e.target.files[0]);\n\n\t\tupload\n\t\t\t.fileUpload(formData)\n\t\t\t.then((response) => {\n\t\t\t\t// setPreviewImage(URL.createObjectURL(e.target.files[0]))\n\t\t\t\tsetIsLoading(false);\n\t\t\t\tsetImage(response.data.imageUrl);\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\n\t\t//console.log(e.target.files[0]);\n\t};\n\n\treturn (\n\t\t<div className=\"SignupPage\">\n\t\t\t<h1>Sign Up</h1>\n\n\t\t\t<form onSubmit={handleSignupSubmit}>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Email</label>\n\t\t\t\t\t<input type=\"text\" name=\"email\" value={email} onChange={handleEmail} className=\"form-control\" />\n\n\t\t\t\t\t<label>Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\tonChange={handlePassword}\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<label>Name</label>\n\t\t\t\t\t<input type=\"text\" name=\"name\" value={name} onChange={handleName} className=\"form-control\" />\n\n\t\t\t\t\t<label>Avatar:</label>\n\t\t\t\t\t<input type=\"file\" name=\"file\" onChange={handleInputFile} className=\"form-control\" />\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"margin-topSmall\">\n\t\t\t\t\t\t\t{image ? <img src={image} alt=\"avatar\" style={{ width: '40px' }} /> : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{isLoading ? (\n\t\t\t\t\t\t\t<Button variant=\"primary\" disabled>\n\t\t\t\t\t\t\t\t<Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" />\n\t\t\t\t\t\t\t\tLoading...\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn-submit-login\">\n\t\t\t\t\t\t\t\tSign Up\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button type=\"submit\" className=\"btn btn-success btn-signup-login\">\n\t\t\t\t\t\tSign Up\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\n\t\t\t{errorMessage && <p className=\"error-message\">{errorMessage}</p>}\n\n\t\t\t<p>\n\t\t\t\tAlready have account?{' '}\n\t\t\t\t<Link to={'/login'} className=\"colorBlue\">\n\t\t\t\t\t{' '}\n\t\t\t\t\tLogin\n\t\t\t\t</Link>\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n\nexport default SignupPage;\n"]},"metadata":{},"sourceType":"module"}