{"ast":null,"code":"var _jsxFileName = \"/home/aitor/Desktop/ironhack/Web Dev/projects/reto_web/client/src/pages/EditProjectPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL;\n\nfunction EditProjectPage(props) {\n  _s();\n\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const projectId = props.match.params.id;\n  useEffect(() => {\n    // Get the token from the localStorage\n    const storedToken = localStorage.getItem('authToken'); // Send the token through the request \"Authorization\" Headers \n\n    axios.get(`${API_URL}/projects/${projectId}`, {\n      headers: {\n        Authorization: `Bearer ${storedToken}`\n      }\n    }).then(response => {\n      const oneProject = response.data;\n      setTitle(oneProject.title);\n      setDescription(oneProject.description);\n    }).catch(error => console.log(error));\n  }, [projectId]);\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n    const requestBody = {\n      title,\n      description\n    }; // Get the token from the localStorage\n\n    const storedToken = localStorage.getItem('authToken'); // Send the token through the request \"Authorization\" Headers   \n\n    axios.put(`${API_URL}/projects/${projectId}`, requestBody, {\n      headers: {\n        Authorization: `Bearer ${storedToken}`\n      }\n    }).then(response => {\n      props.history.push(`/projects/${projectId}`);\n    });\n  };\n\n  const deleteProject = () => {\n    // Get the token from the localStorage\n    const storedToken = localStorage.getItem('authToken'); // Send the token through the request \"Authorization\" Headers   \n\n    axios.delete(`${API_URL}/projects/${projectId}`, {\n      headers: {\n        Authorization: `Bearer ${storedToken}`\n      }\n    }).then(() => props.history.push(\"/projects\")).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"EditProjectPage\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Edit the Project\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleFormSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Title:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        value: title,\n        onChange: e => setTitle(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Description:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"description\",\n        value: description,\n        onChange: e => setDescription(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Update Project\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: deleteProject,\n      children: \"Delete Project\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditProjectPage, \"EA2MnaeBy++r0GzgDN7+Z9SdR0w=\");\n\n_c = EditProjectPage;\nexport default EditProjectPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProjectPage\");","map":{"version":3,"sources":["/home/aitor/Desktop/ironhack/Web Dev/projects/reto_web/client/src/pages/EditProjectPage.js"],"names":["useState","useEffect","axios","API_URL","process","env","REACT_APP_API_URL","EditProjectPage","props","title","setTitle","description","setDescription","projectId","match","params","id","storedToken","localStorage","getItem","get","headers","Authorization","then","response","oneProject","data","catch","error","console","log","handleFormSubmit","e","preventDefault","requestBody","put","history","push","deleteProject","delete","err","target","value"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst API_URL = process.env.REACT_APP_API_URL;\n\nfunction EditProjectPage(props) {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const projectId = props.match.params.id;\n  \n  \n  useEffect(() => {\n    // Get the token from the localStorage\n    const storedToken = localStorage.getItem('authToken');\n    \n    // Send the token through the request \"Authorization\" Headers \n    axios\n      .get(\n        `${API_URL}/projects/${projectId}`,\n        { headers: { Authorization: `Bearer ${storedToken}` } }    \n      )\n      .then((response) => {\n        const oneProject = response.data;\n        setTitle(oneProject.title);\n        setDescription(oneProject.description);\n      })\n      .catch((error) => console.log(error));\n    \n  }, [projectId]);\n  \n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    const requestBody = { title, description };\n  \n    // Get the token from the localStorage\n    const storedToken = localStorage.getItem('authToken');  \n\n    // Send the token through the request \"Authorization\" Headers   \n    axios\n      .put(\n        `${API_URL}/projects/${projectId}`,\n        requestBody,\n        { headers: { Authorization: `Bearer ${storedToken}` } }              \n      )\n      .then((response) => {\n        props.history.push(`/projects/${projectId}`)\n      });\n  };\n  \n  \n  const deleteProject = () => {\n    // Get the token from the localStorage\n    const storedToken = localStorage.getItem('authToken');      \n    \n    // Send the token through the request \"Authorization\" Headers   \n    axios\n      .delete(\n        `${API_URL}/projects/${projectId}`,\n        { headers: { Authorization: `Bearer ${storedToken}` } }           \n      )\n      .then(() => props.history.push(\"/projects\"))\n      .catch((err) => console.log(err));\n  };  \n\n  \n  return (\n    <div className=\"EditProjectPage\">\n      <h3>Edit the Project</h3>\n\n      <form onSubmit={handleFormSubmit}>\n        <label>Title:</label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n        />\n        \n        <label>Description:</label>\n        <textarea\n          name=\"description\"\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n        />\n\n        <button type=\"submit\">Update Project</button>\n      </form>\n\n      <button onClick={deleteProject}>Delete Project</button>\n    </div>\n  );\n}\n\nexport default EditProjectPage;"]},"metadata":{},"sourceType":"module"}